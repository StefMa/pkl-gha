# Do not modify!
# This file was generated from a template using https://github.com/StefMa/pkl-gha

name: CheckActionlintExamples
'on':
  push: {}
jobs:
  actionlintWorkflows:
    runs-on: ubuntu-latest
    steps:
    - name: checkout
      uses: actions/checkout@v5
    - name: Install pkl
      uses: pkl-community/setup-pkl@v0.0.8
      with:
        pkl-version: 0.30.0
    - name: Convert pkl examples to yaml
      working-directory: examples
      run: pkl eval *.pkl -o yaml/%{moduleName}.generated.yml
    - name: Setup Go
      uses: actions/setup-go@v6
    - name: Install actionlint CLI
      working-directory: examples
      run: bash <(curl https://raw.githubusercontent.com/rhysd/actionlint/main/scripts/download-actionlint.bash)
    - name: Run actionlint on examples
      working-directory: examples
      run: ./actionlint -ignore 'could not read reusable workflow file' yaml/*.generated.yml
